{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactcourse\\\\nortwind-redux-master2\\\\src\\\\components\\\\product\\\\AddOrUpdateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCategories } from \"../../redux/actions/categoryActions\";\nimport { saveProduct } from \"../../redux/actions/productAction\";\nimport ProductDetail from \"./ProductDetail\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddOrUpdateProduct({\n  products,\n  categories,\n  getProducts,\n  getCategories,\n  saveProduct,\n  history,\n  ...props\n}) {\n  _s();\n\n  const [product, setProduct] = useState({ ...props.product\n  });\n  useEffect(() => {\n    if (categories.length === 0) {\n      getCategories();\n    }\n\n    setProduct({ ...props.product\n    });\n  }, [props.product]);\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setProduct(previousProduct => ({\n      [name]: name === \"categoryId\" ? parseInt(value, 10) : value\n    }));\n  }\n\n  function handleSave(event) {\n    event.preventDefault();\n    saveProduct(product).then(() => {\n      history.push(\"/\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(ProductDetail, {\n    product: product,\n    categories: categories,\n    onChange: handleChange,\n    onSave: handleSave\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddOrUpdateProduct, \"q4BfMvFUfDGIpdyi6AMwZdU6hSo=\");\n\n_c = AddOrUpdateProduct;\n;\nexport function getProductById(products, productId) {\n  let product = products.find(p => p.id === productId);\n  return product !== null && product !== void 0 ? product : null;\n}\n\nfunction mapStateToProps(state, ownProps) {\n  const productId = ownProps.match.params.productId;\n  const product = productId && state.productReducer.length > 0 ? getProductById(state.productReducer, productId) : {};\n  return {\n    product,\n    products: state.productReducer,\n    categories: state.categoryReducer\n  };\n}\n\nconst mapDispacthToProps = {\n  getCategories,\n  saveProduct\n};\nexport default connect(mapDispacthToProps, mapStateToProps)(AddOrUpdateProduct);\n\nvar _c;\n\n$RefreshReg$(_c, \"AddOrUpdateProduct\");","map":{"version":3,"sources":["C:/reactcourse/nortwind-redux-master2/src/components/product/AddOrUpdateProduct.js"],"names":["React","useEffect","useState","connect","getCategories","saveProduct","ProductDetail","AddOrUpdateProduct","products","categories","getProducts","history","props","product","setProduct","length","handleChange","event","name","value","target","previousProduct","parseInt","handleSave","preventDefault","then","push","getProductById","productId","find","p","id","mapStateToProps","state","ownProps","match","params","productReducer","categoryReducer","mapDispacthToProps"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,QAA8B,qCAA9B;AACA,SAASC,WAAT,QAA4B,mCAA5B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;;AAEA,SAASC,kBAAT,CAA4B;AACxBC,EAAAA,QADwB;AAExBC,EAAAA,UAFwB;AAGxBC,EAAAA,WAHwB;AAIxBN,EAAAA,aAJwB;AAKxBC,EAAAA,WALwB;AAMxBM,EAAAA,OANwB;AAOxB,KAAGC;AAPqB,CAA5B,EAQG;AAAA;;AACC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAE,GAAGU,KAAK,CAACC;AAAX,GAAD,CAAtC;AACAZ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIQ,UAAU,CAACM,MAAX,KAAsB,CAA1B,EAA6B;AACzBX,MAAAA,aAAa;AAChB;;AAEDU,IAAAA,UAAU,CAAC,EAAE,GAAGF,KAAK,CAACC;AAAX,KAAD,CAAV;AACH,GANQ,EAMN,CAACD,KAAK,CAACC,OAAP,CANM,CAAT;;AAQA,WAASG,YAAT,CAAsBC,KAAtB,EAA6B;AACzB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,KAAK,CAACG,MAA9B;AACAN,IAAAA,UAAU,CAACO,eAAe,KAAK;AAC3B,OAACH,IAAD,GAAQA,IAAI,KAAK,YAAT,GAAwBI,QAAQ,CAACH,KAAD,EAAQ,EAAR,CAAhC,GAA8CA;AAD3B,KAAL,CAAhB,CAAV;AAGH;;AAED,WAASI,UAAT,CAAoBN,KAApB,EAA2B;AACvBA,IAAAA,KAAK,CAACO,cAAN;AACAnB,IAAAA,WAAW,CAACQ,OAAD,CAAX,CAAqBY,IAArB,CAA0B,MAAM;AAC5Bd,MAAAA,OAAO,CAACe,IAAR,CAAa,GAAb;AACH,KAFD;AAGH;;AAED,sBACI,QAAC,aAAD;AACI,IAAA,OAAO,EAAEb,OADb;AAEI,IAAA,UAAU,EAAIJ,UAFlB;AAGI,IAAA,QAAQ,EAAIO,YAHhB;AAII,IAAA,MAAM,EAAIO;AAJd;AAAA;AAAA;AAAA;AAAA,UADJ;AASH;;GAzCQhB,kB;;KAAAA,kB;AAyCR;AAED,OAAO,SAASoB,cAAT,CAAwBnB,QAAxB,EAAkCoB,SAAlC,EACP;AACI,MAAIf,OAAO,GAAGL,QAAQ,CAACqB,IAAT,CAAcC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASH,SAA5B,CAAd;AACA,SAAOf,OAAP,aAAOA,OAAP,cAAOA,OAAP,GAAkB,IAAlB;AACH;;AAED,SAASmB,eAAT,CAAyBC,KAAzB,EAAgCC,QAAhC,EAA0C;AACtC,QAAMN,SAAS,GAAGM,QAAQ,CAACC,KAAT,CAAeC,MAAf,CAAsBR,SAAxC;AACA,QAAMf,OAAO,GAAGe,SAAS,IAAIK,KAAK,CAACI,cAAN,CAAqBtB,MAArB,GAA8B,CAA3C,GAA+CY,cAAc,CAACM,KAAK,CAACI,cAAP,EAAuBT,SAAvB,CAA7D,GAAiG,EAAjH;AAEA,SAAO;AACHf,IAAAA,OADG;AAEHL,IAAAA,QAAQ,EAAEyB,KAAK,CAACI,cAFb;AAGH5B,IAAAA,UAAU,EAAEwB,KAAK,CAACK;AAHf,GAAP;AAKH;;AAED,MAAMC,kBAAkB,GAAG;AACvBnC,EAAAA,aADuB;AACRC,EAAAA;AADQ,CAA3B;AAIA,eAAeF,OAAO,CAACoC,kBAAD,EAAoBP,eAApB,CAAP,CAA4CzB,kBAA5C,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getCategories } from \"../../redux/actions/categoryActions\"\r\nimport { saveProduct } from \"../../redux/actions/productAction\"\r\nimport ProductDetail from \"./ProductDetail\";\r\n\r\nfunction AddOrUpdateProduct({\r\n    products,\r\n    categories,\r\n    getProducts,\r\n    getCategories,\r\n    saveProduct,\r\n    history,\r\n    ...props\r\n}) {\r\n    const [product, setProduct] = useState({ ...props.product });\r\n    useEffect(() => {\r\n        if (categories.length === 0) {\r\n            getCategories();\r\n        }\r\n\r\n        setProduct({ ...props.product });\r\n    }, [props.product]);\r\n\r\n    function handleChange(event) {\r\n        const { name, value } = event.target;\r\n        setProduct(previousProduct => ({\r\n            [name]: name === \"categoryId\" ? parseInt(value, 10) : value\r\n        }))\r\n    }\r\n\r\n    function handleSave(event) {\r\n        event.preventDefault();\r\n        saveProduct(product).then(() => {\r\n            history.push(\"/\");\r\n        })\r\n    }\r\n\r\n    return (\r\n        <ProductDetail \r\n            product={product} \r\n            categories = {categories} \r\n            onChange = {handleChange}\r\n            onSave = {handleSave}\r\n        >\r\n        </ProductDetail>\r\n    );\r\n};\r\n\r\nexport function getProductById(products, productId)\r\n{\r\n    let product = products.find(p => p.id === productId);\r\n    return product ?? null;\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    const productId = ownProps.match.params.productId;\r\n    const product = productId && state.productReducer.length > 0 ? getProductById(state.productReducer, productId) : {};\r\n\r\n    return {\r\n        product,\r\n        products: state.productReducer,\r\n        categories: state.categoryReducer\r\n    }\r\n}\r\n\r\nconst mapDispacthToProps = {\r\n    getCategories, saveProduct\r\n}\r\n\r\nexport default connect(mapDispacthToProps,mapStateToProps)(AddOrUpdateProduct);"]},"metadata":{},"sourceType":"module"}